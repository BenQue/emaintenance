# E-Maintenance æœåŠ¡å™¨éƒ¨ç½²å·¥å…·

## ğŸ¯ å¿«é€Ÿå¼€å§‹

**æ¨èï¼šä½¿ç”¨ç»Ÿä¸€æ›´æ–°è„šæœ¬**
```bash
# åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œ
cd /path/to/emaintenance/deploy/Server
./remote-update.sh
```

## ğŸ“ æ ¸å¿ƒæ–‡ä»¶è¯´æ˜

### ğŸš€ ä¸»è¦éƒ¨ç½²è„šæœ¬
- **`remote-update.sh`** - ğŸ†• **ç»Ÿä¸€æ›´æ–°å…¥å£** (æ¨èä½¿ç”¨)
- `update-modules.sh` - åˆ†æ¨¡å—æ›´æ–°è„šæœ¬ (é«˜çº§ç”¨æˆ·)
- `quick-update.sh` - å¿«é€Ÿæ›´æ–°å‘½ä»¤
- `rollback.sh` - å›æ»šè„šæœ¬
- `status.sh` - çŠ¶æ€ç›‘æ§

### ğŸ› ï¸ è¾…åŠ©å·¥å…·
- `check-web-env.sh` - Webç¯å¢ƒæ£€æŸ¥
- `debug-login.sh` - ç™»å½•é—®é¢˜è¯Šæ–­
- `diagnose-nginx.sh` - Nginxè¯Šæ–­
- `module-config.sh` - æ¨¡å—é…ç½®ç®¡ç†

### ğŸ“‹ æ–‡æ¡£æŒ‡å—
- **`REMOTE_DEPLOYMENT_GUIDE.md`** - ğŸ†• **å®Œæ•´éƒ¨ç½²æŒ‡å—** (è¯¦ç»†å‚è€ƒ)
- `../docs/KNOWN_ISSUES.md` - å·²çŸ¥é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

## ğŸ”„ æ›´æ–°é€‰é¡¹

| å‘½ä»¤ | é€‚ç”¨åœºæ™¯ | æ›´æ–°å†…å®¹ |
|------|----------|----------|
| `./remote-update.sh` | **æ¨è** | äº¤äº’å¼é€‰æ‹©æ›´æ–°æ¨¡å— |
| `./quick-update.sh frontend` | UIä¿®å¤ | Webåº”ç”¨ + Nginx |
| `./quick-update.sh backend` | APIä¿®å¤ | æ‰€æœ‰å¾®æœåŠ¡ |
| `./quick-update.sh all` | å¤§ç‰ˆæœ¬ | å…¨éƒ¨åº”ç”¨æ¨¡å— |

## ğŸ“Š æœåŠ¡ç›‘æ§

```bash
# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
./status.sh

# å¿«é€Ÿå¥åº·æ£€æŸ¥
./status.sh quick

# æŸ¥çœ‹ç‰¹å®šä¿¡æ¯
./status.sh health     # å¥åº·æ£€æŸ¥
./status.sh logs       # é”™è¯¯æ—¥å¿—
./status.sh resources  # èµ„æºä½¿ç”¨
```

## ğŸ›¡ï¸ å®‰å…¨å›æ»š

```bash
# å¯åŠ¨å›æ»šå‘å¯¼
./rollback.sh

# é€‰é¡¹ï¼š
# 1) å›æ»šåˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬
# 2) é€‰æ‹©ç‰¹å®šå†å²ç‰ˆæœ¬  
# 3) æ‰‹åŠ¨æŒ‡å®šç‰ˆæœ¬æ ‡ç­¾
```

## âš¡ å¸¸ç”¨åœºæ™¯

### åœºæ™¯1ï¼šå‰ç«¯ä¿®å¤éƒ¨ç½²
```bash
./remote-update.sh
# é€‰æ‹©é€‰é¡¹ 1: å¿«é€Ÿæ›´æ–°å‰ç«¯
```

### åœºæ™¯2ï¼šåç«¯APIä¿®å¤
```bash  
./remote-update.sh
# é€‰æ‹©é€‰é¡¹ 2: å¿«é€Ÿæ›´æ–°åç«¯
```

### åœºæ™¯3ï¼šç´§æ€¥å›æ»š
```bash
./remote-update.sh
# é€‰æ‹©é€‰é¡¹ 6: å›æ»šåˆ°ä¸Šä¸€ç‰ˆæœ¬
```

### åœºæ™¯4ï¼šå•ä¸ªæœåŠ¡çƒ­ä¿®å¤
```bash
./quick-update.sh workorder  # ä¿®å¤å·¥å•æœåŠ¡
./quick-update.sh user       # ä¿®å¤ç”¨æˆ·æœåŠ¡
./quick-update.sh asset      # ä¿®å¤èµ„äº§æœåŠ¡
```

## ğŸ“‹ éƒ¨ç½²æ¸…å•

### éƒ¨ç½²å‰æ£€æŸ¥
- [ ] æœåŠ¡å™¨ç£ç›˜ç©ºé—´å……è¶³ (è‡³å°‘5GB)
- [ ] Dockerå’ŒDocker Composeå·²å®‰è£…è¿è¡Œ
- [ ] ç½‘ç»œè¿æ¥ç¨³å®š
- [ ] æ•°æ®åº“å·²å¤‡ä»½

### éƒ¨ç½²åéªŒè¯
- [ ] æ‰€æœ‰å®¹å™¨çŠ¶æ€å¥åº·
- [ ] Webåº”ç”¨æ­£å¸¸è®¿é—®
- [ ] APIå¥åº·æ£€æŸ¥é€šè¿‡
- [ ] æ ¸å¿ƒåŠŸèƒ½æµ‹è¯•é€šè¿‡

## ğŸ†˜ æ•…éšœæ’é™¤

### å®¹å™¨é—®é¢˜
```bash
# æŸ¥çœ‹å®¹å™¨æ—¥å¿—
docker-compose logs [service-name]

# é‡å¯æœåŠ¡
docker-compose restart [service-name]
```

### ç½‘ç»œé—®é¢˜
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
./diagnose-nginx.sh

# æ£€æŸ¥æœåŠ¡è¿é€šæ€§
./check-web-env.sh
```

### è®¤è¯é—®é¢˜
```bash
# è°ƒè¯•ç™»å½•é—®é¢˜
./debug-login.sh
```

## ğŸ“ æ”¯æŒ

é‡åˆ°é—®é¢˜æ—¶ï¼š
1. **ç«‹å³å›æ»š**: `./rollback.sh`
2. **æ£€æŸ¥çŠ¶æ€**: `./status.sh`
3. **æŸ¥çœ‹æ—¥å¿—**: `docker-compose logs -f`

**è¯¦ç»†æ–‡æ¡£**: 
- å®Œæ•´éƒ¨ç½²æµç¨‹: `REMOTE_DEPLOYMENT_GUIDE.md`
- é—®é¢˜æ’æŸ¥æ‰‹å†Œ: `../docs/KNOWN_ISSUES.md`

---
**E-Maintenance éƒ¨ç½²å·¥å…· v2.0** | æ›´æ–°æ—¥æœŸ: 2024-08-30