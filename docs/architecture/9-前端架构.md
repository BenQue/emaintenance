# 9. 前端架构

## 架构概览

E-Maintenance System前端采用现代化的React + Next.js架构，集成统一的UI设计系统和组件库。

## 核心架构组件

### UI设计系统
- **组件库**: 基于shadcn/ui的标准化组件库 [详见: 17-UI设计系统.md]
- **品牌集成**: BizLink企业品牌配色和Logo系统
- **设计模式**: 统一的布局、表单、数据展示模式
- **可访问性**: 符合WCAG 2.1标准的无障碍设计

### 组件架构
- **组件**: 采用分层结构(ui, layout, features, forms)和标准化的编码模板
- **UI组件**: shadcn/ui基础组件 + BizLink品牌定制
- **业务组件**: 功能特定的复合组件
- **布局组件**: 三部分布局模式 - HeaderBlock + AppSidebar + 主内容区域

### 状态管理
- **状态管理**: 使用 Zustand，并按业务领域划分 Store
- **认证状态**: auth-store 管理用户登录和权限
- **业务状态**: work-order-store, user-management-store 等领域特定状态
- **UI状态**: 本地组件状态管理

### 路由和导航
- **路由**: 使用 Next.js App Router，并通过在布局中检查认证状态来保护路由
- **导航**: 基于shadcn/ui的现代化导航系统
- **权限控制**: 角色基础的路由访问控制

### 服务层
- **服务层**: 创建统一的 API 客户端，将 API 调用逻辑与 UI 组件分离
- **API集成**: RESTful API客户端与微服务后端通信
- **错误处理**: 统一的API错误处理和用户反馈

## 技术栈详情

### 核心技术
- **框架**: Next.js 14+ (App Router)
- **UI库**: React 18+ + shadcn/ui
- **样式**: Tailwind CSS + BizLink品牌配色
- **状态**: Zustand
- **类型**: TypeScript (严格模式)

### 开发工具
- **构建**: Turbo (Turborepo)
- **测试**: Jest + React Testing Library
- **代码质量**: ESLint + Prettier
- **类型检查**: TypeScript compiler

## 设计系统集成

前端架构完全集成了统一的UI设计系统，详细规范参见 [17-UI设计系统.md](./17-UI设计系统.md)，包括：

- BizLink品牌配色方案和Logo使用规范
- shadcn/ui组件库标准化集成
- 响应式设计和移动端适配
- 可访问性标准和测试策略
- 组件开发和维护指导

## 架构决策

### 组件设计原则
1. **可复用性**: 基础UI组件高度可复用
2. **一致性**: 统一的设计语言和交互模式
3. **可维护性**: 清晰的组件层次和职责分离
4. **性能优化**: 代码分割和懒加载策略

### 状态管理策略
1. **领域驱动**: 按业务领域划分状态管理
2. **最小化状态**: 避免不必要的全局状态
3. **类型安全**: 完整的TypeScript类型定义
4. **可测试性**: 易于单元测试的状态逻辑

### 性能优化
1. **代码分割**: 路由级别和组件级别的代码分割
2. **图片优化**: Next.js Image组件优化
3. **CSS优化**: Tailwind CSS JIT模式
4. **缓存策略**: API响应缓存和静态资源缓存
